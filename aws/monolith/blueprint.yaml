apiVersion: xl-cli/v1beta1
kind: Blueprint
metadata:
  projectName: AWS-Monolith-ECS-Fargate 
  description: |
    The blueprint deploys a monolithic application generated with JHipster, to AWS ECS with fargate launch type.
    XL deploy does the provisioning and deployment, while XL release orchestrates everything.
  author: XebiaLabs
  version: 1.0
spec:
- name: AppName
  type: Input
  description: What is the Application name?
- name: MySQLMasterPassword
  type: Input
  description: What is the master password for MySQL?
  secret: true
- name: XLRScriptUserPassword
  type: Input
  description: What is the XLR Script user password?
  secret: true
- name: AWSAccessKey
  type: Input
  secret: true
  description: What is the AWS access key?
  dependsOnFalse: !fn aws.credentials().IsAvailable
  default: !fn aws.credentials().AccessKeyID
- name: AWSAccessSecret
  type: Input
  secret: true
  description: What is the AWS secret?
  dependsOnFalse: !fn aws.credentials().IsAvailable
  default: !fn aws.credentials().SecretAccessKey
- name: AWSRegion
  type: Select
  description: What is the AWS region?
  options:
    - !fn aws.regions(ecs)
  default: !fn aws.regions(ecs)[0]