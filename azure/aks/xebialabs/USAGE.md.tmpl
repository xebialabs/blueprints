{{$clusterName := .ClusterName | kebabcase}}
## Provision simple AKS cluster on Azure

### Prerequisites

If you do not have XL Deploy instance running, you can use the Docker Compose setup generated by the blueprint to spin it up.

    1. CD into the folder "docker" generated by the blueprint.
    2. Run `docker-compose up -d` on the generated `docker` folder.

To deploy this blueprint, follow the steps below:

1. Apply the generated YAML configurations using the XL CLI.

    ```
    xl apply -f xebialabs.yaml
    ```

2. Go to XL Deploy, look for the `{{$clusterName}}` folder. Select the `1.0.0` item underneath, click on the ellipsis and select 'Deploy'. Select the terraform environment, press 'Deploy'.

3. After the deployment process is complete, an AKS cluster will have been provisioned on Azure and a configured `K8s.master` environment will have been registered in XL Deploy, ready to be deployed to.

4. Execute any subsequent k8s blueprints to deploy application to your new cluster.

5. Whenever you want to deprovision the AKS cluster, you can go to the terraform environment under Environment, select the `{{$clusterName}}-aks` item, press the ellipsis and select 'Undeploy' and follow the instructions on screen.

## Minimum Required versions

This blueprint version requires at least the below versions of the specified tools to work properly.

XL Deploy: Version 8.6.1
XL CLI: Version 8.6